<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>HTML</title>
  
  <!-- HTML -->
  

  <!-- Custom Styles -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <p>💡ELECTRIC XCRYPTO💡</p>
  <!-- Project -->
  <script src="main.js"></script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EXC Coin</title>
    <style>
        body {
            background-color: navy;
            color: white;
            text-align: center;
            font-family: Arial, sans-serif;
        }
        #game-container {
            margin-top: 50px;
        }
        #score, #level {
            display: inline-block;
            margin: 0 10px;
        }
        #earn, #wallet {
            margin: 10px;
            padding: 10px 20px;
            background-color: dodgerblue;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }
        #referral-icon {
            margin-top: 10px;
            padding: 10px 20px;
            background-color: gray;
            color: white;
            display: inline-block;
            font-size: 18px;
            cursor: default;
            border-radius: 5px;
        }
        #emoji-box {
            width: 100px;
            height: 100px;
            margin: 20px auto;
            background-color: transparent;
            position: relative;
        }
        .falling-emoji {
            position: fixed;
            font-size: 30px;
            top: -50px;
            animation: fall linear;
        }
        @keyframes fall {
            to {
                top: 100vh;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>💡🚀💡🔜</h1>
        <div id="score-level">
            <span id="score">Score: 0</span>
            <span id="level">Level: 1</span>
        </div>
        <div id="emoji-box">💡💡💡💡💡💡
        💡💡💡</div>
        <button id="earn">👉🏻EARN</button>
        <button id="wallet">Connect Wallet</button>
        <div id="referral-icon">Referrals: <span id="referral-count">0</span></div>
        <p id="referral-link"></p>
    </div>

    <script>
        let score = localStorage.getItem("score") ? parseInt(localStorage.getItem("score")) : 0;
        let level = Math.floor(score / 2000) + 1;
        let referrals = localStorage.getItem("referrals") ? parseInt(localStorage.getItem("referrals")) : 0;
        const scoreElement = document.getElementById("score");
        const levelElement = document.getElementById("level");
        const referralCountElement = document.getElementById("referral-count");
        const referralLink = document.getElementById("referral-link");
        const emojiBox = document.getElementById("emoji-box");

        // تحديث الواجهة
        function updateUI() {
            scoreElement.innerText = `EXC: ${score}`;
            levelElement.innerText = `TICKETS: ${level}`;
            referralCountElement.innerText = referrals;
        }

        // حفظ النقاط عند الخروج
        function saveProgress() {
            localStorage.setItem("score", score);
            localStorage.setItem("referrals", referrals);
        }
        window.addEventListener("beforeunload", saveProgress);

        // نظام النقاط عند النقر
        emojiBox.addEventListener("click", () => {
            score += (score >= 5000) ? 5 : (score >= 1000) ? 2 : 1;
            level = Math.floor(score / 2000) + 1;
            updateUI();
            dropEmoji(); // تنفيذ الإيموجي المتساقط عند النقر
        });

        // تأثير الإيموجي المتساقط عند النقر فقط (واحد في كل مرة)
        function dropEmoji() {
            const fallingEmoji = document.createElement("div");
            fallingEmoji.innerText = "EXC";
            fallingEmoji.classList.add("falling-emoji");
            fallingEmoji.style.left = `${Math.random() * 100}vw`; // موقع عشوائي في العرض
            fallingEmoji.style.animationDuration = `${2 + Math.random() * 3}s`; // مدة سقوط عشوائية
            document.body.appendChild(fallingEmoji);
            
            // إزالة الإيموجي بعد انتهاء الحركة
            fallingEmoji.addEventListener("animationend", () => fallingEmoji.remove());
        }

        // توليد كود الإحالة وتثبيته
        function generateReferralCode() {
            let storedCode = localStorage.getItem("referralCode");
            if (!storedCode) {
                storedCode = "EXC_" + Math.random().toString(36).substring(2, 10);
                localStorage.setItem("referralCode", storedCode);
            }
            return storedCode;
        }

        // إعداد كود الإحالة الثابت
        const referralCode = generateReferralCode();
        referralLink.innerText = `Referral Code: https://EXCCOIN.com/?ref=${referralCode}`;

        // التحقق من استخدام كود الإحالة وتطبيق المكافآت
        function checkReferral() {
            const urlParams = new URLSearchParams(window.location.search);
            const refCode = urlParams.get("ref");
            if (refCode && refCode !== referralCode) {
                // إضافة النقاط عند استخدام رابط الإحالة
                score += 200; // اللاعب الجديد يحصل على 200 نقطة
                referrals += 1;
                localStorage.setItem("referrals", referrals); // حفظ عدد الإحالات
                
                // إضافة النقاط للمحيل
                let referrerScore = localStorage.getItem(`score_${refCode}`);
                if (referrerScore) {
                    referrerScore = parseInt(referrerScore) + 500; // المحيل يحصل على 500 نقطة
                    localStorage.setItem(`score_${refCode}`, referrerScore);
                } else {
                    localStorage.setItem(`score_${refCode}`, 500); // إنشاء وتخزين نقاط للمحيل لأول مرة
                }
                updateUI();
            }
        }
        
        // تحديث النقاط عند دخول لاعب آخر باستخدام كود الإحالة
        window.addEventListener("load", checkReferral);

        // إعداد زر EARN للانتقال إلى صفحة المهام
        document.getElementById("earn").addEventListener("click", () => {
            window.location.href = "earn.html";
        });

        // ربط المحفظة بمحفظة التليجرام
        document.getElementById("wallet").addEventListener("click", () => {
            let connectWallet = confirm("Connect to your Telegram Wallet?");
            if (connectWallet) {
                alert("Wallet connected successfully!");
            }
        });

        // تحديث الواجهة عند التحميل
        updateUI();
    </script>
</body>
</html>src=""
